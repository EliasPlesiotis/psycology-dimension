(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{23:function(e,t,a){},29:function(e,t,a){e.exports=a(44)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),i=a.n(s),l=(a(34),a(4)),c=a(5),o=a(1),u=a(7),m=a(6),d=a(3),h=a(13),v=(a(23),a(35),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"home1"},r.a.createElement("div",{className:"jumbotron body3"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",{style:{fontSize:"4vw"}},"Psycology Dimension")),r.a.createElement("br",null),r.a.createElement("div",{className:"text"},r.a.createElement("p",null,"a;sdlkfjasd;lf;lasjf;lsakjf;lsjfa;skjfsa;fja;skjf;sdlj fa;dsfjapofijwepofijw oiwjfwo jfoewjcpw jfqpweojfjw j qwpoejfwqeofjw;o jfjasdofj sapdoifjadsofj ;dskf jqwpi fjrhehga;sdjfa;sldjfa;lsdjfa;sdjf ;saldkf ja;sld ;lds ;ldjf ;lds fa;ldjfsa;lfj;lfjrhehg a;sdjfa;sldjfa;lsdj fa;sdjf ;saldkf ja;sld ;lds ;ldjf ;lds fa;ldjfsa;lfj; lfjrhehg a;sdjfa;sldjfa;lsdjfa;sdjf ;saldkf ja;sld ;l ds ;ld jf ;lds fa;ldjfsa;lfj;l")))))}}]),a}(r.a.Component)),p="https://psych-dim.glitch.me/api/questionnaire/",f="https://psych-dim.glitch.me/api/variable/",b="https://psych-dim.glitch.me/api/question/",g=(a(36),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={questid:"",qid:e.location.state.qid,answered:e.location.state.answered,body:"",answer:1,ans:!1},n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;fetch("".concat(b).concat(e.location.state.qid,"/read")).then((function(e){return e.json()})).then((function(e){return t.setState({body:e.body,questid:e.questionnaire})}))}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat(b).concat(this.state.qid,"/read")).then((function(e){return e.json()})).then((function(t){return e.setState({body:t.body,questid:t.questionnaire})}))}},{key:"handleSubmit",value:function(e){var t=this;fetch("".concat("https://psych-dim.glitch.me/api/question/answer/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionnaire:this.state.questid,question:this.state.qid,answer:this.state.answer,gender:JSON.parse(localStorage.getItem("gender")),age:JSON.parse(localStorage.getItem("age")),person:JSON.parse(localStorage.getItem("anonymousUser"))})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.setState((function(e){return{answered:e.answered.concat(e.qid),ans:!0}}),(function(e){t.props.history.push({pathname:"/questionnaires/quest",state:{id:t.state.questid,answered:t.state.answered}})})),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({answer:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"answer"},r.a.createElement("h2",{className:"answer-title"},this.state.body),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group answer-form"},r.a.createElement("h2",{className:"form-title"},this.state.body),r.a.createElement("br",null),r.a.createElement("select",{className:"custom-select",value:this.state.answer,onChange:this.handleChange},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5")),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit"}))))}}]),a}(r.a.Component)),E=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:e.location.state.id,name:"",questions:[],answered:e.location.state.answered},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p).concat(this.state.id,"/read")).then((function(e){return e.json()})).then((function(t){return e.setState({name:t.name,questions:t.questions,answered:[]})}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;fetch("".concat(p).concat(e.location.state.id,"/read")).then((function(e){return e.json()})).then((function(a){return t.setState({name:a.name,questions:a.questions,answered:e.location.state.answered})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"card",style:{width:"60vw",padding:"3rem",margin:"4rem",textAlign:"center"}},r.a.createElement("h3",null,this.state.name),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Questions"),r.a.createElement("br",null),r.a.createElement("ul",{className:"list-group"},this.state.questions.map((function(t){return r.a.createElement("li",{className:"list-group-item",key:t.id},r.a.createElement(d.b,{className:0!==e.state.answered.filter((function(e){return e===t.id})).length?"answerd":"",to:{pathname:"/questionnaires/quest/q",state:{qid:t.id,id:e.state.id,answered:e.state.answered}}},t.body))}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/questionnaires/quest/q",component:g,replace:!0}))))}}]),a}(r.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={questionnaires:[],search:"",age:0,gender:"male",classes:"identify"},localStorage.setItem("anonymousUser",JSON.stringify(Math.random(0).toString(36).substr(2))),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.handleAge=n.handleAge.bind(Object(o.a)(n)),n.handleGender=n.handleGender.bind(Object(o.a)(n)),n.handleIdent=n.handleIdent.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(p).then((function(e){return e.json()})).then((function(t){return e.setState({questionnaires:t})}))}},{key:"handleAge",value:function(e){this.setState({age:e.target.value})}},{key:"handleGender",value:function(e){console.log(e.target),this.setState({gender:e.target.value})}},{key:"handleIdent",value:function(e){localStorage.setItem("age",JSON.stringify(this.state.age)),localStorage.setItem("gender",JSON.stringify(this.state.gender)),this.setState({classes:"identify remove"}),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({search:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;fetch("".concat("https://psych-dim.glitch.me/api/questionnaire/search/","?search=").concat(this.state.search)).then((function(e){return e.json()})).then((function(e){0!==e.length?t.setState({questionnaires:e}):fetch(p).then((function(e){return e.json()})).then((function(e){return t.setState({questionnaires:e})}))})),e.preventDefault()}},{key:"render",value:function(){var e=this.state.questionnaires;return r.a.createElement("div",{className:"questionnaires"},r.a.createElement("div",{className:"".concat(this.state.classes)},r.a.createElement("h3",{className:"text-center"},"First of all answer some questions that will help the researchers !!!"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleIdent},r.a.createElement("div",{className:"form-group form-ident"},r.a.createElement("label",null,"Age:"),r.a.createElement("input",{className:"form-control",type:"number",min:"1",value:this.state.age,onChange:this.handleAge}),r.a.createElement("label",null,"Gender:"),r.a.createElement("select",{className:"custom-select",value:this.state.gender,onChange:this.handleGender},r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"),r.a.createElement("option",{value:"other"},"Other")),r.a.createElement("input",{className:"btn btn-primary",type:"submit"})))),r.a.createElement("div",{className:"quest-background"}),r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"search-input",value:this.state.search,onChange:this.handleChange,type:"text"}),r.a.createElement("button",{className:"search-btn",type:"submit"},r.a.createElement("img",{alt:"Search",src:"https://img.icons8.com/color/48/000000/search.png"}))))),r.a.createElement("ul",{className:"list-q"},e.map((function(e){return r.a.createElement("li",{className:"q",key:e.id},r.a.createElement("div",{className:"questionnaire card-body text-center"},r.a.createElement("h4",{className:"card-title"},e.name),r.a.createElement("p",null,e.desc),r.a.createElement("button",{className:"btn btn-primary card-btn"},r.a.createElement(d.b,{to:{pathname:"/questionnaires/quest",state:{id:e.id,answered:[]}}},"Answer"))))}))),r.a.createElement("div",{className:"quests"},r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/questionnaires/quest",component:E}))))}}]),a}(r.a.Component),S=a(2),w=a.n(S),j=a(8),N=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"validateToken",value:function(){var e=Object(j.a)(w.a.mark((function e(){var t,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://psych-dim.glitch.me/api/token/valid/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:JSON.parse(localStorage.getItem("refresh"))})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t=0===Object.keys(n).length,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:if(!t){e.next=16;break}return e.next=15,this.refreshToken();case 15:return e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(j.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://psych-dim.glitch.me/api/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a})});case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,n.json();case 8:if(void 0!==(r=e.sent)){e.next=11;break}return e.abrupt("return",!1);case 11:return localStorage.setItem("access",JSON.stringify(r.access)),localStorage.setItem("refresh",JSON.stringify(r.refresh)),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"refreshToken",value:function(){var e=Object(j.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://psych-dim.glitch.me/api/token/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:JSON.parse(localStorage.getItem("refresh"))})});case 3:return t=e.sent,e.next=6,t.json();case 6:if(void 0!==(a=e.sent)){e.next=9;break}return e.abrupt("return",!1);case 9:return localStorage.setItem("access",JSON.stringify(a.access)),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("access"),localStorage.removeItem("refresh"),localStorage.removeItem("id"),localStorage.removeItem("username")}}]),e}(),k=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"getUserId",value:function(){var e=Object(j.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://psych-dim.glitch.me/api/id/",{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("id",JSON.stringify(e.id)),localStorage.setItem("username",JSON.stringify(e.username))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getQuestionnaires",value:function(){var e=Object(j.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p,{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setQuestionnaires",value:function(){var e=Object(j.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p,{method:"POST",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"},body:JSON.stringify({name:t,desc:a,user:JSON.parse(localStorage.getItem("id"))})});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getQuestionnaire",value:function(){var e=Object(j.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p).concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateQuestionnaire",value:function(){var e=Object(j.a)(w.a.mark((function e(t,a,n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p).concat(n),{method:"PUT",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"},body:JSON.stringify({name:t,desc:a,user:JSON.parse(localStorage.getItem("id"))})});case 2:return r=e.sent,e.next=5,r.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteQuestionnaire",value:function(){var e=Object(j.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p).concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getVariables",value:function(){var e=Object(j.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f,{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setVariables",value:function(){var e=Object(j.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f,{method:"POST",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"},body:JSON.stringify({name:t,questionnaire:a,user:JSON.parse(localStorage.getItem("id"))})});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getVariable",value:function(){var e=Object(j.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f).concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateVariable",value:function(){var e=Object(j.a)(w.a.mark((function e(t,a,n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f).concat(a),{method:"PUT",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"},body:JSON.stringify({name:t,user:JSON.parse(localStorage.getItem("id")),questionnaire:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteVariable",value:function(){var e=Object(j.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f).concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQuestions",value:function(){var e=Object(j.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b,{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setQuestions",value:function(){var e=Object(j.a)(w.a.mark((function e(t,a,n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b,{method:"POST",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"},body:JSON.stringify({body:t,variable:a,questionnaire:n,user:JSON.parse(localStorage.getItem("id"))})});case 2:return r=e.sent,e.next=5,r.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getQuestion",value:function(){var e=Object(j.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b).concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateQuestion",value:function(){var e=Object(j.a)(w.a.mark((function e(t,a,n,r){var s,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b).concat(a),{method:"PUT",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"},body:JSON.stringify({body:t,user:JSON.parse(localStorage.getItem("id")),variable:n,questionnaire:r})});case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"deleteQuestion",value:function(){var e=Object(j.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b).concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("access"))),"Content-Type":"application/json"}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),O=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a);var r=(n=t.call(this,e)).props.history;return n.state={username:"",password:"",isLogged:!1,errors:"",history:r},n.handleUsername=n.handleUsername.bind(Object(o.a)(n)),n.handlePassword=n.handlePassword.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})}))}},{key:"redirect",value:function(){if(this.state.isLogged)return r.a.createElement(h.a,{to:{pathname:"/home",state:{logged:!0}}})}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;N.login(this.state.username,this.state.password).then((function(e){e?k.getUserId().then((function(e){return t.setState({isLogged:!0})})):t.setState({errors:"Not Valid Credentials"})})),e.preventDefault()}},{key:"displayErrors",value:function(){if(""!==this.state.errors)return r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.errors)}},{key:"register",value:function(){window.location.href="https://psych-dim.glitch.me/api/register/"}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"jumpotron",style:{backgroundColor:"#e0e0d1",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"4vw",borderRadius:"3px",width:"40vw",height:"60vh"}},this.redirect(),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Userame:"),r.a.createElement("input",{className:"form-control",type:"text",value:this.state.username,onChange:this.handleUsername})),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",type:"password",value:this.state.password,onChange:this.handlePassword})),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}),r.a.createElement("div",{style:{float:"right"}},r.a.createElement("label",null,"Or maybe ->"),r.a.createElement("button",{className:"btn btn-primary",onClick:this.register},"Register"))),this.displayErrors()))}}]),a}(r.a.Component),q=Object(h.g)(O),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(l.a)(this,a);var r=(n=t.call(this,e)).props.history;return n.state={username:"",password:"",isLogged:!1,errors:"",history:r},n.handleUsername=n.handleUsername.bind(Object(o.a)(n)),n.handlePassword=n.handlePassword.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})}))}},{key:"redirect",value:function(){if(this.state.isLogged)return r.a.createElement(h.a,{to:{pathname:"/home",state:{logged:!0}}})}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;N.login(this.state.username,this.state.password).then((function(e){e?(t.setState({isLogged:!0}),window.location.reload()):t.setState({errors:"Not Valid Credentials"})})),e.preventDefault()}},{key:"displayErrors",value:function(){if(""!==this.state.errors)return r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.errors)}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"jumpotron",style:{backgroundColor:"#e0e0d1",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"4vw",borderRadius:"3px",width:"40vw",height:"60vh"}},this.redirect(),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Userame:"),r.a.createElement("input",{className:"form-control",type:"text",value:this.state.username,onChange:this.handleUsername})),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{className:"form-control",type:"password",value:this.state.password,onChange:this.handlePassword})),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}),r.a.createElement("div",{style:{float:"right"}},r.a.createElement("label",null,"Or maybe ->"),r.a.createElement("button",{className:"btn btn-primary"},r.a.createElement(d.b,{style:{color:"white"},to:"/register"},"Register")))),this.displayErrors()))}}]),a}(r.a.Component),x=Object(h.g)(C),T=(a(43),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"body1"},r.a.createElement("p",null,"Make Questionnaires and let the data flow.")),r.a.createElement("div",{className:"body2"},r.a.createElement("p",null,"Use Machine Learning to draw safer conclusions."))))}}]),a}(r.a.Component)),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={name:"",desc:"",isLogged:!0,redir:!1},n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleDesc=n.handleDesc.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"handleDesc",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({desc:e.target.value})}},{key:"handleChange",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.state.isLogged&&k.setQuestionnaires(this.state.name,this.state.desc).then((function(e){return console.log(e)})),this.setState({redir:!0}),window.location.reload()}},{key:"redirect",value:function(){if(this.state.redir)return r.a.createElement(h.a,{to:"/accounts"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"card",style:{position:"absolute",left:"20vw",width:"60vw",padding:"3rem",margin:"4rem"}},this.redirect(),r.a.createElement("h5",null,"New Questionnaire"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"form-control",style:{width:"40vw"},type:"text",value:this.state.name,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{className:"form-control",style:{width:"40vw"},type:"textarea",value:this.state.desc,onChange:this.handleDesc}),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit"}))))}}]),a}(r.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={name:"",erros:"",questionnaires:[],option:1,isLogged:!0,redir:!1},n.handleInput=n.handleInput.bind(Object(o.a)(n)),n.handleSelect=n.handleSelect.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.getQuestionnaires().then((function(t){0!==t.length&&e.setState({questionnaires:t,option:t[0].id})}))}},{key:"handleInput",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({name:e.target.value})}},{key:"handleSelect",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({option:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.state.isLogged&&k.setVariables(this.state.name,this.state.option).then((function(e){return console.log(e)})),this.setState({redir:!0}),window.location.reload()}},{key:"redirect",value:function(){if(this.state.redir)return r.a.createElement(h.a,{to:"/accounts"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"card",style:{position:"absolute",left:"20vw",width:"60vw",padding:"3rem",margin:"4rem"}},this.redirect(),r.a.createElement("h5",null,"New Variable"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"form-control",style:{width:"40vw"},type:"text",value:this.state.name,onChange:this.handleInput}),r.a.createElement("br",null),r.a.createElement("label",null,"Select Questionnaire:"),r.a.createElement("br",null),r.a.createElement("select",{className:"custom-select",style:{width:"40vw"},value:this.state.option,onChange:this.handleSelect},this.state.questionnaires.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit"}))))}}]),a}(r.a.Component),Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={name:"",qoption:1,voption:1,questionnaires:[],variables:[],isLogged:!0,redir:!1},n.handleInput=n.handleInput.bind(Object(o.a)(n)),n.handleQSelect=n.handleQSelect.bind(Object(o.a)(n)),n.handleVSelect=n.handleVSelect.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.getQuestionnaires().then((function(t){return e.setState({questionnaires:t,qoption:t[0].id,variables:t[0].variables,voption:t[0].variables[0].id})}))}},{key:"handleInput",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({name:e.target.value})}},{key:"handleQSelect",value:function(e){var t=this,a=e.target.value;N.validateToken().then((function(e){t.setState({isLogged:e}),k.getQuestionnaire(a).then((function(e){t.setState({variables:e.variables}),t.setState({qoption:a,voption:t.state.variables[0].id})}))}))}},{key:"handleVSelect",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({voption:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.state.isLogged&&(console.log(this.state.voption,this.state.qoption),k.setQuestions(this.state.name,this.state.voption,this.state.qoption).then((function(e){return console.log(e)}))),window.location.reload()}},{key:"render",value:function(){return r.a.createElement("div",{className:"card",style:{position:"absolute",left:"20vw",width:"60vw",padding:"3rem",margin:"4rem"}},r.a.createElement("h5",null,"New Question"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Body:"),r.a.createElement("input",{className:"form-control",style:{width:"40vw"},type:"text",value:this.state.name,onChange:this.handleInput}),r.a.createElement("br",null),r.a.createElement("label",null,"Select Variable:"),r.a.createElement("br",null),r.a.createElement("select",{className:"custom-select",style:{width:"40vw"},value:this.state.voption,onChange:this.handleVSelect},this.state.variables.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("label",null,"Select Questionnaire:"),r.a.createElement("br",null),r.a.createElement("select",{className:"custom-select",style:{width:"40vw"},value:this.state.qoption,onChange:this.handleQSelect},this.state.questionnaires.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit"}))))}}]),a}(r.a.Component),J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:e.location.state.id,name:"",new_name:"",desc:"",new_desc:"",variables:[],questions:[],isLogged:!0},n.delQuest=n.delQuest.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleText=n.handleText.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({id:e.location.state.id}),k.getQuestionnaire(e.location.state.id).then((function(e){t.setState({name:e.name,variables:e.variables,questions:e.questions,new_name:e.name,desc:e.desc,new_desc:e.desc})}))}},{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.getQuestionnaire(this.state.id).then((function(t){e.setState({name:t.name,variables:t.variables,questions:t.questions,new_name:t.name,desc:t.desc,new_desc:t.desc})}))}},{key:"redirect",value:function(){if(!this.state.isLogged)return r.a.createElement(h.a,{to:"/"})}},{key:"delQuest",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.deleteQuestionnaire(this.state.id),window.location.reload()}},{key:"handleText",value:function(e){this.setState({new_desc:e.target.value})}},{key:"handleChange",value:function(e){this.setState({new_name:e.target.value})}},{key:"handleSubmit",value:function(e){k.updateQuestionnaire(this.state.new_name,this.state.new_desc,this.state.id).then((function(e){return console.log(e)})),window.location.reload()}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.variables,n=e.questions;return r.a.createElement("div",{className:"card",style:{position:"absolute",left:"20vw",width:"60vw",padding:"3rem",margin:"4rem"}},this.redirect(),r.a.createElement("h3",{className:"card-title",style:{textAlign:"center"}},t),r.a.createElement("p",{className:"text-center"},this.state.desc),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h5",null,"Variables"),r.a.createElement("ul",{className:"list-group"},a.map((function(e){return r.a.createElement("li",{className:"list-group-item",style:{width:"30vw"},key:e.id},r.a.createElement(d.b,{to:{pathname:"/accounts/var",state:{id:e.id}},replace:!0},e.name))}))),r.a.createElement("br",null),r.a.createElement("h5",null,"Questions"),r.a.createElement("ul",{className:"list-group"},n.map((function(e){return r.a.createElement("li",{style:{width:"30vw"},className:"list-group-item",key:e.id},r.a.createElement(d.b,{to:{pathname:"/accounts/q",state:{id:e.id}},replace:!0},e.body))}))),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-danger",onClick:this.delQuest},"Delete")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h5",null,"Update the name"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"form-control",style:{width:"40vw"},type:"text",value:this.state.new_name,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{className:"form-control",style:{width:"40vw"},type:"text",value:this.state.new_desc,onChange:this.handleText}),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit"})))))}}]),a}(r.a.Component),D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:e.location.state.id,qid:0,name:"",new_name:"",questions:[],qname:"",isLogged:!0},n.delVar=n.delVar.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;N.validateToken().then((function(e){return t.setState({isLogged:e})})),this.setState({id:e.location.state.id}),k.getVariable(e.location.state.id).then((function(e){t.setState({name:e.name,variables:e.variables,questions:e.questions,new_name:e.name,qid:e.questionnaire}),k.getQuestionnaire(t.state.qid).then((function(e){return t.setState({qname:e.name})}))}))}},{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.getVariable(this.state.id).then((function(t){e.setState({name:t.name,variables:t.variables,questions:t.questions,new_name:t.name,qid:t.questionnaire}),k.getQuestionnaire(e.state.qid).then((function(t){return e.setState({qname:t.name})}))}))}},{key:"delVar",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.deleteVariable(this.state.id),window.location.reload()}},{key:"redirect",value:function(){if(!this.state.isLogged)return r.a.createElement(h.a,{to:"/"})}},{key:"handleChange",value:function(e){this.setState({new_name:e.target.value})}},{key:"handleSubmit",value:function(e){k.updateVariable(this.state.new_name,this.state.id,this.state.qid).then((function(e){return console.log(e)})),window.location.reload()}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.questions;return r.a.createElement("div",{className:"card",style:{position:"absolute",left:"20vw",width:"60vw",padding:"3rem",margin:"2rem"}},r.a.createElement("div",null,this.redirect(),r.a.createElement("h3",{className:"card-title",style:{textAlign:"center"}},t),r.a.createElement("hr",null),r.a.createElement("h5",null,"Questionnaire: ",r.a.createElement(d.b,{to:{pathname:"/accounts/quest",state:{id:this.state.qid}},replace:!0},this.state.qname)),r.a.createElement("br",null),r.a.createElement("h5",null,"Questions"),r.a.createElement("ul",{className:"list-group"},a.map((function(e){return r.a.createElement("li",{className:"list-group-item",style:{width:"30vw"},key:e.id},r.a.createElement(d.b,{to:{pathname:"/accounts/q",state:{id:e.id}},replace:!0},e.body))}))),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-danger",onClick:this.delVar},"Delete")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h5",null,"Update the name"),r.a.createElement("form",{className:"form-group",onSubmit:this.handleSubmit},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{className:"form-control",style:{width:"40vw"},type:"text",value:this.state.new_name,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit"}))))}}]),a}(r.a.Component),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:e.location.state.id,vid:"",qid:"",body:"",new_body:"",qname:"",vname:"",isLogged:!0},n.delQuest=n.delQuest.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({id:e.location.state.id}),N.validateToken().then((function(e){return t.setState({isLogged:e})})),k.getQuestion(e.location.state.id).then((function(e){t.setState({body:e.body,new_body:e.body,vid:e.variable,qid:e.questionnaire}),k.getQuestionnaire(t.state.qid).then((function(e){return t.setState({qname:e.name})})),k.getVariable(t.state.vid).then((function(e){return t.setState({vname:e.name})}))}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({id:this.state.id}),N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.getQuestion(this.state.id).then((function(t){e.setState({body:t.body,new_body:t.body,vid:t.variable,qid:t.questionnaire}),k.getQuestionnaire(e.state.qid).then((function(t){return e.setState({qname:t.name})})),k.getVariable(e.state.vid).then((function(t){return e.setState({vname:t.name})}))}))}},{key:"delQuest",value:function(){var e=this;N.validateToken().then((function(t){return e.setState({isLogged:t})})),k.deleteQuestion(this.state.id),window.location.reload()}},{key:"redirect",value:function(){if(!this.state.isLogged)return r.a.createElement(h.a,{to:"/"})}},{key:"handleChange",value:function(e){this.setState({new_body:e.target.value})}},{key:"handleSubmit",value:function(e){k.updateQuestion(this.state.new_body,this.state.id,this.state.vid,this.state.qid),window.location.reload()}},{key:"render",value:function(){var e=this.state.body;return r.a.createElement("div",{className:"card",style:{position:"absolute",left:"25vw",width:"60vw",padding:"3rem",margin:"2rem"}},r.a.createElement("div",null,this.redirect(),r.a.createElement("h3",{className:"card-title",style:{textAlign:"center"}},e),r.a.createElement("hr",null),r.a.createElement("h5",null,"Questionnaire: ",r.a.createElement(d.b,{to:{pathname:"/accounts/quest",state:{id:this.state.qid}},replace:!0},this.state.qname)),r.a.createElement("h5",null,"Variable: ",r.a.createElement(d.b,{to:{pathname:"/accounts/var",state:{id:this.state.vid}},replace:!0},this.state.vname)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-danger",onClick:this.delQuest},"Delete")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h5",null,"Update the Body"),r.a.createElement("form",{className:"form-group",onSubmit:this.handleSubmit},r.a.createElement("label",null,"Body:"),r.a.createElement("input",{style:{width:"40vw"},className:"form-control",type:"text",value:this.state.new_body,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-primary",type:"submit"}))))}}]),a}(r.a.Component),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={questionnaires:[],variables:[],questions:[],isLogged:!1,isLoaded:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){e.setState({isLogged:t}),t&&k.getUserId().then((function(t){k.getQuestionnaires().then((function(t){e.setState({questionnaires:t}),k.getVariables().then((function(t){e.setState({variables:t}),k.getQuestions().then((function(t){e.setState({questions:t}),e.setState({isLoaded:!0})}))}))}))}))}))}},{key:"redirect",value:function(){if(!this.state.isLogged)return r.a.createElement(h.a,{to:"/"})}},{key:"render",value:function(){return this.state.isLoaded?r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement("div",{className:"main",style:{width:"100vw",paddingTop:"15vh",marginLeft:"15vw"}},this.redirect(),r.a.createElement("div",{className:"jumbotron atr"},r.a.createElement("h3",null,"Questionnaires"),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"list-group"},this.state.questionnaires.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e.id},r.a.createElement(d.b,{to:{pathname:"/accounts/quest",state:{id:e.id}},replace:!0},e.name))}))),r.a.createElement("br",null),r.a.createElement(d.b,{className:"btn btn-primary",to:"/accounts/quest/new"},"New Questionnare"))),r.a.createElement("div",{className:"jumbotron atr"},r.a.createElement("h3",null,"Variables"),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"list-group"},this.state.variables.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e.id},r.a.createElement(d.b,{to:{pathname:"/accounts/var",state:{id:e.id}},replace:!0},e.name))}))),r.a.createElement("br",null),r.a.createElement(d.b,{className:"btn btn-primary",to:"/accounts/var/new"},"New Variable"))),r.a.createElement("div",{className:"jumbotron atr"},r.a.createElement("h3",null,"Questions"),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"list-group"},this.state.questions.map((function(e){return r.a.createElement("li",{className:"list-group-item",key:e.id},r.a.createElement(d.b,{to:{pathname:"/accounts/q",state:{id:e.id}},replace:!0},e.body))}))),r.a.createElement("br",null),r.a.createElement(d.b,{className:"btn btn-primary",to:"/accounts/q/new"},"New Question"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/accounts/quest/new",component:L}),r.a.createElement(h.b,{path:"/accounts/quest",component:J}),r.a.createElement(h.b,{path:"/accounts/var/new",component:I}),r.a.createElement(h.b,{path:"/accounts/var",component:D}),r.a.createElement(h.b,{path:"/accounts/q/new",component:Q}),r.a.createElement(h.b,{path:"/accounts/q",component:V})))):r.a.createElement("div",null,"loading...")}}]),a}(r.a.Component),P=a(28),M=a(15),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:e.location.state.id,variablesId:[],name:"",variables:[],questions:[],from:0,to:100,genders:["male","female","other"]},n.fromChange=n.fromChange.bind(Object(o.a)(n)),n.toChange=n.toChange.bind(Object(o.a)(n)),n.genderChange=n.genderChange.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){e.setState({isLogged:t}),t&&k.getQuestionnaire(e.state.id).then((function(t){e.setState({name:t.name,variablesId:t.variables});var a,n=Object(M.a)(e.state.variablesId);try{for(n.s();!(a=n.n()).done;){var r=a.value;k.getVariable(r.id).then((function(t){e.setState((function(e,a){return{variables:e.variables.concat(t)}}))}))}}catch(s){n.e(s)}finally{n.f()}}))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({id:e.location.state.id,variablesId:[],name:"",variables:[],questions:[]}),N.validateToken().then((function(a){t.setState({isLogged:a}),a&&k.getQuestionnaire(e.location.state.id).then((function(e){t.setState({name:e.name,variablesId:e.variables});var a,n=Object(M.a)(t.state.variablesId);try{for(n.s();!(a=n.n()).done;){var r=a.value;k.getVariable(r.id).then((function(e){t.setState((function(t,a){return{variables:t.variables.concat(e)}}))}))}}catch(s){n.e(s)}finally{n.f()}}))}))}},{key:"getMean",value:function(e){var t,a=0,n=0,s=Object(M.a)(e.answers);try{for(s.s();!(t=s.n()).done;){var i=t.value;i.age>this.state.from&&i.age<this.state.to&&this.state.genders.includes(i.gender)&&(a+=i.answer,n++)}}catch(l){s.e(l)}finally{s.f()}return r.a.createElement("div",null,isNaN(a/n)?0:JSON.stringify(a/n).slice(0,4))}},{key:"getStd",value:function(e){var t,a,n=0,s=0,i=Object(M.a)(e.answers);try{for(i.s();!(a=i.n()).done;){var l=a.value;l.age>this.state.from&&l.age<this.state.to&&this.state.genders.includes(l.gender)&&(n+=l.answer,s++)}}catch(m){i.e(m)}finally{i.f()}t=n/s,s=0,n=0;var c,o=Object(M.a)(e.answers);try{for(o.s();!(c=o.n()).done;){var u=c.value;u.age>this.state.from&&u.age<this.state.to&&this.state.genders.includes(u.gender)&&(n+=Math.pow(u.answer-t,2),s++)}}catch(m){o.e(m)}finally{o.f()}return r.a.createElement("div",null,isNaN(n/s)?0:JSON.stringify(n/s).slice(0,4))}},{key:"getAnswers",value:function(e){var t=this;return e.answers.filter((function(e){return e.age>t.state.from&&e.age<t.state.to&&t.state.genders.includes(e.gender)})).length}},{key:"fromChange",value:function(e){this.setState({from:e.target.value})}},{key:"toChange",value:function(e){console.log(this.state.genders),this.setState({to:e.target.value})}},{key:"genderChange",value:function(e){this.setState({genders:Object(P.a)(e.target.options).map((function(e){return e.selected?e.value:void 0}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"stat"},r.a.createElement("h2",{className:"quest-title"},this.state.name),r.a.createElement("div",{className:"",style:{padding:"5vw"}},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("label",null,"Select ages: "),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",null,"From:"),r.a.createElement("input",{style:{width:"15vw"},className:"form-control",type:"number",min:"0",value:this.state.from,onChange:this.fromChange}),r.a.createElement("label",null,"To:  "),r.a.createElement("input",{style:{width:"15vw"},className:"form-control",type:"number",min:this.state.from,value:this.state.to,onChange:this.toChange})),r.a.createElement("br",null),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",null,"Select Gender:"),r.a.createElement("select",{multiple:!0,className:"custom-select col-sm-2",value:this.state.genders,onChange:this.genderChange},r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"),r.a.createElement("option",{value:"other"},"Other"))),r.a.createElement("br",null))),r.a.createElement("div",{className:"stat-general"},r.a.createElement("div",{className:"card-general text-center"},this.state.variables.map((function(t){return r.a.createElement("div",null,r.a.createElement("h4",null,t.name),r.a.createElement("table",{className:"table stat-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Question"),r.a.createElement("th",{scope:"col"},"Answers"),r.a.createElement("th",{scope:"col"},"Mean"),r.a.createElement("th",{scope:"col"},"STD"))),r.a.createElement("tbody",null,t.questions.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.body),r.a.createElement("td",null,e.getAnswers(t)),r.a.createElement("td",null,e.getMean(t)),r.a.createElement("td",null,e.getStd(t)))})))),r.a.createElement("br",null))})),r.a.createElement("button",{className:"btn btn-primary"},"Download Data"))))}}]),a}(r.a.Component),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:"",questionnaires:[],varibles:[],questions:[],answers:[],logged:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.validateToken().then((function(t){e.setState({isLogged:t}),t&&(k.getQuestionnaire(e.state.id).then((function(t){e.setState({questionnaires:t});var a,n=[],r=Object(M.a)(e.state.questionnaires);try{for(r.s();!(a=r.n()).done;){var s=a.value;n=n.concat(s.answers)}}catch(i){r.e(i)}finally{r.f()}e.setState({answers:n})})),k.getVariables().then((function(t){return e.setState({varibles:t})})),k.getQuestions().then((function(t){return e.setState({questions:t})})))}))}},{key:"redirect",value:function(){if(!this.state.logged)return r.a.createElement(h.a,{to:"/"})}},{key:"render",value:function(){var e=this.state.questionnaires;return r.a.createElement("div",{className:"container main-stats"},this.redirect(),r.a.createElement("div",{className:"top-stat"},r.a.createElement("div",{className:"card-stat text-center"},r.a.createElement("h4",{className:"stat-title"},"Questionnaires"),r.a.createElement("h3",null,this.state.questionnaires.length)),r.a.createElement("div",{className:"card-stat text-center"},r.a.createElement("h4",{className:"stat-title"},"Questions"),r.a.createElement("h3",null,this.state.questions.length)),r.a.createElement("div",{className:"card-stat text-center"},r.a.createElement("h4",{className:"stat-title"},"Answers Given"),r.a.createElement("h3",null,this.state.answers.length))),r.a.createElement("div",{className:"questionnaires"},r.a.createElement("ul",{className:"list-q"},e.map((function(e){return r.a.createElement("li",{className:"q",key:e.id},r.a.createElement("div",{className:"stat-quest card-body text-center"},r.a.createElement("h4",{className:"card-title"},e.name),r.a.createElement("p",null,e.desc),r.a.createElement("button",{className:"btn btn-primary card-btn"},r.a.createElement(d.b,{to:{pathname:"/stats/results",state:{id:e.id}}},"See the stats"))))})))),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/stats/results",component:U}),")}"))}}]),a}(r.a.Component),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLogged:!1,username:""},n.logout=n.logout.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(";asldkfj"),N.validateToken().then((function(t){e.setState({isLogged:t}),t&&k.getUserId().then((function(t){return e.setState({username:JSON.parse(localStorage.getItem("username"))})}))}))}},{key:"componentWillReceiveProps",value:function(){var e=this;console.log("aaaaaaaaaaaaaa"),N.validateToken().then((function(t){e.setState({isLogged:t}),t&&k.getUserId().then((function(t){return e.setState({username:JSON.parse(localStorage.getItem("username"))})}))}))}},{key:"logout",value:function(){N.logout(),this.setState({isLogged:!1})}},{key:"nav",value:function(){return this.state.isLogged?r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-dark fixed-top  flex-md-nowrap bg-dark p-3 shadow"},r.a.createElement(d.b,{style:{fontSize:"3.5vh",color:"white"},to:"/"},"Psycology-Dimension"),r.a.createElement("span",{style:{fontSize:"1.5rem"},className:"badge badge-secondary"},this.state.username),r.a.createElement("button",{className:"btn btn-secondary logout",onClick:this.logout},"Logout")),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("nav",{className:"col-md-2 col-sm-2 bg-light sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item elems"},r.a.createElement(d.b,{className:"nav-link",to:"/home"},"Home")),r.a.createElement("li",{className:"nav-item elems"},r.a.createElement(d.b,{className:"nav-link",to:"/accounts"},"Account")),r.a.createElement("li",{className:"nav-item elems"},r.a.createElement(d.b,{className:"nav-link",to:"/stats"},"Statistics")))))))):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-dark fixed-top  flex-md-nowrap bg-dark p-3 shadow",style:{padding:"2vh"}},r.a.createElement(d.b,{style:{color:"white",fontSize:"3.5vh"},className:"nav-link",to:"/"},"Psycology-Dimension"),r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{style:{color:"white",fontSize:"3.5vh"},className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{style:{color:"white",fontSize:"3.5vh"},className:"nav-link",to:"/questionnaires"},"Questionnaires")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{style:{color:"white",fontSize:"3.5vh"},className:"nav-link",to:"/login"},"Login"))))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement("div",null,this.nav(),r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return e.state.isLogged?r.a.createElement(h.a,{to:"/home"}):r.a.createElement(T,null)}}),r.a.createElement(h.b,{exact:!0,path:"/home",render:function(t){return e.state.isLogged?r.a.createElement(v,null):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{path:"/questionnaires",render:function(t){return e.state.isLogged?r.a.createElement(h.a,{to:"/home"}):r.a.createElement(y,null)}}),r.a.createElement(h.b,{path:"/login",render:function(t){return e.state.isLogged?r.a.createElement(h.a,{to:"/accounts"}):r.a.createElement(q,null)}}),r.a.createElement(h.b,{path:"/register",render:function(t){return e.state.isLogged?r.a.createElement(h.a,{to:"/accounts"}):r.a.createElement(x,null)}}),r.a.createElement(h.b,{path:"/accounts",render:function(t){return e.state.isLogged?r.a.createElement(A,null):r.a.createElement(h.a,{to:"/login"})}}),r.a.createElement(h.b,{path:"/stats",render:function(t){return e.state.isLogged?r.a.createElement(_,null):r.a.createElement(h.a,{to:"/login"})}}))))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.862922ae.chunk.js.map